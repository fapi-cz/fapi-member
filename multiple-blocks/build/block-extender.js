!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=window.wp.element,n=window.wp.blockEditor,r=window.wp.apiFetch,o=e.n(r);const{addFilter:i}=wp.hooks,{__:__}=wp.i18n,{createHigherOrderComponent:a}=wp.compose,{Fragment:l,useState:s}=wp.element,{PanelBody:c,CheckboxControl:p,RadioControl:b}=wp.components,d=[];let u=[];const v="undefined"==typeof AbortController?void 0:new AbortController;o()({path:"/?rest_route=/fapi/v1/sections-simple",signal:v?.signal}).then((e=>{u=e})).catch((e=>{u=[],console.error(e),"AbortError"===e.name&&console.error("Request has been aborted")})),i("blocks.registerBlockType","fapi-member/fapi-section-and-level-attributes",(e=>e.attributes?(d.includes(e.name)||(e.attributes={...e.attributes,fapiSectionAndLevels:{type:"string",default:"[]"},hasSectionOrLevel:{type:"string",default:""}}),e):e)),i("editor.BlockEdit","fapi-member-core-block-extender/section-and-levels",a((e=>r=>{if(d.includes(r.name))return(0,t.createElement)(e,r);r.attributes.hasOwnProperty("hasSectionOrLevel")||(r.attributes.hasSectionOrLevel=""),r.attributes.hasOwnProperty("fapiSectionAndLevels")||(r.attributes.fapiSectionAndLevels="[]");const[o,i]=s(r.attributes.hasSectionOrLevel),[a,v]=s(JSON.parse(r.attributes.fapiSectionAndLevels));return(0,t.createElement)(l,null,(0,t.createElement)(e,r),(0,t.createElement)(n.InspectorControls,null,(0,t.createElement)(c,{title:__("FAPI Member","fapi-member"),initialOpen:!0},(0,t.createElement)(b,{label:__("Zobrazit pokud návštěvník","fapi-member"),help:__("Obsah se zobrazí v případě že člen je/není přiřazený v členské sekci nebo úrovni nebo všem návštěvníkům.","fapi-member"),selected:o,options:[{label:__("je člen sekce/úrovně","fapi-member"),value:"1"},{label:__("není členem sekce/úrovně","fapi-member"),value:"0"},{label:__("zobrazit všem návštěvníkům (vybrané sekce a urovně se ignorují)","fapi-member"),value:""}],onChange:e=>(r.setAttributes({hasSectionOrLevel:e}),i(e))}),u.map((e=>(0,t.createElement)(p,{key:e.id,label:e.name,checked:a.includes(e.id),value:e.id,onChange:t=>{((e,t,n)=>{const o=JSON.parse(r.attributes.fapiSectionAndLevels);if(!1===t){const t=o.indexOf(e);t>-1&&o.splice(t,1)}else o.push(e);r.setAttributes({fapiSectionAndLevels:JSON.stringify(o)}),n(o)})(e.id,t,v)}}))))))}),"withFapiSectionAndLevels")),i("blocks.getSaveContent.extraProps","fapi-member-core-block-extender/get-save-content-extra-props",((e,t,n)=>(d.includes(t)||(e.hasSectionOrLevel&&(e.hasSectionOrLevel=n.hasSectionOrLevel),e.fapiSectionAndLevels&&(e.fapiSectionAndLevels=JSON.stringify(n.fapiSectionAndLevels))),e)))}();